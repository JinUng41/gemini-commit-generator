# gemini-commit-generator 🤖

Node.js 기반으로 모든 운영체제를 지원하는 지능형 AI 커밋 도구입니다. 프로젝트의 스타일을 학습하여 최적의 커밋 메시지를 제안합니다.

[English](./README.md) | **한국어**

## ✨ 주요 특징
- **다국어 지원**: 시작 시 영어와 한국어 중 원하는 언어를 선택할 수 있습니다.
- **크로스 플랫폼**: macOS, Linux, Windows 어디서나 Node.js만 있다면 동작합니다.
- **자동 스테이징**: 실행 시 변경된 모든 파일을 자동으로 스테이징(`git add .`)합니다.
- **브랜치 안전 가드**: 커밋 전 로컬/원격 브랜치 포인터를 비교하고, behind/diverged/detached 상태에서는 커밋을 차단합니다.
- **제로 설정**: `git history`를 분석하여 프로젝트의 컨벤션을 자동으로 감지합니다.
- **맥락 인식**: 사용자의 추가 설명을 반영하여 더 정확한 메시지를 만듭니다.
- **대화형 메뉴**: 커밋 전 메시지를 검토, 재생성하거나 직접 수정할 수 있습니다.

## 🚀 설치 방법

### 사전 요구 사항
1. [Node.js](https://nodejs.org/) (v14 이상)
2. [Gemini CLI](https://github.com/google/gemini-cli) 가 설치되어 있고 터미널에서 `gemini` 명령어를 사용할 수 있어야 합니다.

### npm으로 설치 (글로벌)
```bash
npm install -g @devjinung41/gemini-commit-generator
```

## 💡 사용 방법
어느 git 저장소에서나 `gcg`를 입력하세요:
```bash
gcg
```
1. **언어 선택**: 영어(1) 또는 한국어(2)를 선택합니다.
2. **안전성 검사**: 스테이징 전과 실제 커밋 직전에 로컬/원격 브랜치 포인터를 비교합니다.
3. **변경 사항 확인**: 스테이징된 파일 요약을 확인합니다.
4. **추가 맥락**: (선택 사항) AI에게 전달할 추가 정보를 입력합니다.
5. **결과 확인 및 작업**: 생성된 메시지를 확인하고 커밋, 재생성, 수정 또는 취소를 선택합니다.

평균 소요 시간: AI 분석 단계는 보통 **30초 내외**이며, 변경량/네트워크/모델 응답 속도에 따라 달라질 수 있습니다.

## 🖥️ 프롬프트 예시
```text
$ gcg
🌐 Step 1: Select Language / Step 1: 언어 선택
1) English
2) 한국어
Selection [1-2] > 2

🚀 AI 커밋 생성기를 시작합니다...
✔ Step 2: 변경 사항 스테이징 및 데이터 수집 중...
🔒 브랜치 안전성 확인을 통과했습니다.

📊 변경 요약:
  + 1 개의 새 파일
  ~ 2 개의 수정된 파일

📝 Step 3: 추가 맥락 제공 (선택 사항, 건너뛰려면 Enter)
> 회원가입 검증을 강화하고 가입 완료 후 온보딩 메일을 발송하도록 개선했습니다

✔ AI 분석 완료: 29.84s

--------------------------------------------
feat: 회원가입 검증 흐름 개선

auth-service.js: 이메일/비밀번호 검증 규칙 강화
signup-form.tsx: 인라인 검증 및 오류 메시지 개선
email-welcome.ts: 가입 성공 후 온보딩 메일 발송 추가
--------------------------------------------

어떻게 하시겠습니까?
1) ✅ 커밋하기
2) 🔄 다시 생성
3) ✏️  수정하기
4) ❌ 취소
선택 [1-4] > 1
🎉 성공적으로 커밋되었습니다!
```

## 🧭 메뉴 동작
- `1) 커밋하기`: 생성된 메시지로 즉시 커밋합니다.
- `2) 다시 생성`: 변경 사항 분석을 다시 수행해 새 메시지를 만듭니다.
- `3) 수정하기`: `$EDITOR`(없으면 `vi`/`notepad`)에서 메시지를 수정한 뒤 커밋합니다.
- `4) 취소`: 커밋 없이 종료합니다.

## ⚠ 자주 보이는 메시지
- `업스트림 브랜치가 설정되지 않아...`: 커밋은 진행되지만 원격 포인터 비교는 생략됩니다.
- `원격 브랜치가 로컬보다 앞서 있습니다` / `브랜치가 갈라졌습니다`: 안전을 위해 커밋이 차단됩니다.
- `이곳은 Git 저장소가 아닙니다`: Git 저장소 내부에서 `gcg`를 실행하세요.
- `Gemini CLI 인증이 필요합니다`: 터미널에서 `gemini`를 1회 실행해 로그인하세요.

## 🔄 업데이트
```bash
npm update -g @devjinung41/gemini-commit-generator
```

## 🗑️ 삭제
```bash
npm uninstall -g @devjinung41/gemini-commit-generator
```

## 📄 라이선스
이 프로젝트는 MIT 라이선스를 따릅니다.
